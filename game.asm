.model small
.stack 100h
.data
    maze   db 88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,10
           db 88,42,42,42,42,42,42,42,42,42,42,88,42,42,42,42,42,42,42,42,42,42,88,10
           db 88,64,88,88,88,42,88,88,88,88,42,88,42,88,88,88,88,42,88,88,88,64,88,10
           db 88,42,88,88,88,42,88,88,88,88,42,88,42,88,88,88,88,42,88,88,88,42,88,10
           db 88,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,88,10
           db 88,42,88,88,88,42,88,42,88,88,88,88,88,88,88,42,88,42,88,88,88,42,88,10
           db 88,42,42,42,42,42,88,42,42,42,42,88,42,42,42,42,88,42,42,42,42,42,88,10
           db 88,88,88,88,88,42,88,88,88,88,32,88,32,88,88,88,88,42,88,88,88,88,88,10
           db 88,88,88,88,88,42,88,32,32,32,32,32,32,32,32,32,88,42,88,88,88,88,88,10
           db 88,88,88,88,88,42,88,32,88,88,88,32,88,88,88,32,88,42,88,88,88,88,88,10
           db 32,32,32,32,32,42,88,32,88,77,77,32,77,77,88,32,88,42,32,32,32,32,32,10
           db 88,88,88,88,88,42,88,32,88,88,88,32,88,88,88,32,88,42,88,88,88,88,88,10
           db 88,88,88,88,88,42,88,32,32,32,32,32,32,32,32,32,88,42,88,88,88,88,88,10
           db 88,88,88,88,88,42,88,32,88,88,88,88,88,88,88,32,88,42,88,88,88,88,88,10
           db 88,88,88,88,88,42,88,32,88,88,88,88,88,88,88,32,88,42,88,88,88,88,88,10
           db 88,42,42,42,42,42,42,42,42,42,42,88,42,42,42,42,42,42,42,42,42,42,88,10
           db 88,42,88,88,88,42,88,88,88,88,42,88,42,88,88,88,88,42,88,88,88,42,88,10
           db 88,64,42,42,88,42,42,42,42,42,42,67,42,42,42,42,42,42,88,42,42,64,88,10
           db 88,88,88,42,88,42,88,42,88,88,88,88,88,88,88,42,88,42,88,42,88,88,88,10
           db 88,42,42,42,42,42,88,42,42,42,42,88,42,42,42,42,88,42,42,42,42,42,88,10
           db 88,42,88,88,88,88,88,88,88,88,42,88,42,88,88,88,88,88,88,88,88,42,88,10
           db 88,42,88,88,88,88,88,88,88,88,42,88,42,88,88,88,88,88,88,88,88,42,88,10
           db 88,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,88,10
           db 88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,10
    ; X - 88, * - 42, C - 67, M - 77, @ - 64
    ;

    pacman db 'C', 0
.code
main proc
                 mov  ax, @data
                 mov  ds, ax

    ; Displaying the maze as a table
                 mov  si, offset maze
                 mov  cx, 24*23          ; number of elements in the maze
    display_loop:
                 mov  ah, 02h
                 mov  dl, [si]
                 cmp  dl, 35
                 jne  print_char
                 mov  dl, '|'
    print_char:  
                 int  21h
                 inc  si
                 loop display_loop

    ; Placing PacMan in the middle of the maze
                 mov  cx, 17
                 mov  dx, 11*23
                 mov  ah, 02h
                 lea  dx, pacman
                 int  10h

    ; Moving PacMan one cell to the left
                 mov  ah, 02h
                 mov  dl, 10*23
                 int  10h

    ; Moving PacMan one cell up
                 mov  ah, 02h
                 mov  dh, 16
                 int  10h

                 mov  ah, 4ch
                 int  21h
main endp
end main